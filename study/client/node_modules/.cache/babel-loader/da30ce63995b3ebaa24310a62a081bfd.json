{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Acer TP\\\\Project-3\\\\study\\\\client\\\\src\\\\pages\\\\Login.js\";\nimport React, { Component } from \"react\";\nimport { Container } from \"../components/Grid\";\nimport Form2 from \"../components/Form2/index.js\";\nimport LogInForm from \"../components/LogInForm\";\nimport { FormBtn } from \"../components/Form\";\nimport API from \"../utils/API\";\nimport PostGroup from \"../components/PostGroup\";\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      returnedName: \"\",\n      returnedEmail: \"\"\n    };\n\n    this.handleSubmit = (event, userName, password) => {\n      //whenever the form is submitted\n      event.preventDefault();\n\n      if (userName && password) {\n        //if all 2 areas are filled out, run this\n        console.log(\"posted\"); //log them\n\n        API.getUser({\n          //call getUser from ../utils/API\n          userName,\n          //insert the 2 data areas to getUser\n          password\n        }).then(res => {\n          console.log(res.data);\n          this.setState({\n            returnedName: res.data.dbModel[0].userName,\n            returnedEmail: res.data.dbModel[0].email\n          });\n          this.props.history.push(\"/\");\n        }).catch(err => console.log(err));\n      }\n    };\n\n    this.checkForUser = () => {\n      console.log(\"checkForUser\");\n      API.findCookie().then(res => {\n        this.setState({\n          returnedName: res.data.userName,\n          returnedEmail: res.data.email\n        });\n      }).catch(err => console.log(err));\n    };\n  }\n\n  //something is wrong\n  render() {\n    return React.createElement(Container, {\n      fluid: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"You are logged in as: \", this.state.returnedName, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), \"Your email is: \", this.state.returnedEmail, React.createElement(LogInForm, {\n      handleSubmit: this.handleSubmit,\n      returnedName: this.state.returnedName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: () => this.checkForUser(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"get user saved to cookie\"));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Acer TP/Project-3/study/client/src/pages/Login.js"],"names":["React","Component","Container","Form2","LogInForm","FormBtn","API","PostGroup","Login","state","returnedName","returnedEmail","handleSubmit","event","userName","password","preventDefault","console","log","getUser","then","res","data","setState","dbModel","email","props","history","push","catch","err","checkForUser","findCookie","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,SAAT,QAA0B,oBAA1B;AACA,OAAQC,KAAR,MAAoB,8BAApB;AACA,OAAQC,SAAR,MAAwB,yBAAxB;AACA,SAAQC,OAAR,QAAsB,oBAAtB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;;AAEA,MAAMC,KAAN,SAAoBP,SAApB,CAA8B;AAAA;AAAA;AAAA,SAE1BQ,KAF0B,GAElB;AACJC,MAAAA,YAAY,EAAE,EADV;AAEJC,MAAAA,aAAa,EAAE;AAFX,KAFkB;;AAAA,SAOvBC,YAPuB,GAOR,CAACC,KAAD,EAAQC,QAAR,EAAkBC,QAAlB,KAA+B;AAAE;AAEvDF,MAAAA,KAAK,CAACG,cAAN;;AACA,UAAIF,QAAQ,IAAIC,QAAhB,EAA0B;AAAE;AACxBE,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EADsB,CACA;;AACtBZ,QAAAA,GAAG,CAACa,OAAJ,CAAY;AAAE;AACZL,UAAAA,QADU;AACA;AACVC,UAAAA;AAFU,SAAZ,EAIGK,IAJH,CAIQC,GAAG,IAAI;AACXJ,UAAAA,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACC,IAAhB;AACA,eAAKC,QAAL,CAAc;AACZb,YAAAA,YAAY,EAAEW,GAAG,CAACC,IAAJ,CAASE,OAAT,CAAiB,CAAjB,EAAoBV,QADtB;AAEZH,YAAAA,aAAa,EAAEU,GAAG,CAACC,IAAJ,CAASE,OAAT,CAAiB,CAAjB,EAAoBC;AAFvB,WAAd;AAIA,eAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD,SAXH,EAYGC,KAZH,CAYSC,GAAG,IAAIb,OAAO,CAACC,GAAR,CAAYY,GAAZ,CAZhB;AAaC;AACJ,KA1B6B;;AAAA,SA4B9BC,YA5B8B,GA4Bf,MAAM;AACnBd,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACAZ,MAAAA,GAAG,CAAC0B,UAAJ,GACDZ,IADC,CACIC,GAAG,IAAI;AACX,aAAKE,QAAL,CAAc;AACZb,UAAAA,YAAY,EAAEW,GAAG,CAACC,IAAJ,CAASR,QADX;AAEZH,UAAAA,aAAa,EAAEU,GAAG,CAACC,IAAJ,CAASG;AAFZ,SAAd;AAID,OANC,EAODI,KAPC,CAOKC,GAAG,IAAIb,OAAO,CAACC,GAAR,CAAYY,GAAZ,CAPZ;AAQD,KAtC6B;AAAA;;AAyC9B;AACAG,EAAAA,MAAM,GAAG;AAET,WAEA,oBAAC,SAAD;AAAW,MAAA,KAAK,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCACuB,KAAKxB,KAAL,CAAWC,YADlC,EAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,qBAGgB,KAAKD,KAAL,CAAWE,aAH3B,EAKI,oBAAC,SAAD;AACA,MAAA,YAAY,EAAE,KAAKC,YADnB;AAEA,MAAA,YAAY,EAAI,KAAKH,KAAL,CAAWC,YAF3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,EAWI;AACA,MAAA,OAAO,EAAE,MAAM,KAAKqB,YAAL,EADf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAXJ,CAFA;AAsBC;;AAlE6B;;AAqE9B,eAAevB,KAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Container } from \"../components/Grid\";\nimport  Form2  from \"../components/Form2/index.js\";\nimport  LogInForm  from \"../components/LogInForm\";\nimport {FormBtn} from \"../components/Form\"\nimport API from \"../utils/API\";\nimport PostGroup from \"../components/PostGroup\";\n\nclass Login extends Component { //main is a test page to test user creation (Working)\n    \n    state = {\n        returnedName: \"\",\n        returnedEmail: \"\"\n    }\n\n       handleSubmit = (event, userName, password) => { //whenever the form is submitted\n\nevent.preventDefault()\nif (userName && password) { //if all 2 areas are filled out, run this\n    console.log(\"posted\") //log them\n    API.getUser({ //call getUser from ../utils/API\n      userName, //insert the 2 data areas to getUser\n      password,\n    })\n      .then(res => {\n        console.log(res.data)\n        this.setState({\n          returnedName: res.data.dbModel[0].userName,\n          returnedEmail: res.data.dbModel[0].email\n        });\n        this.props.history.push(\"/\")\n      })\n      .catch(err => console.log(err));\n    }\n};\n\ncheckForUser = () => {\n  console.log(\"checkForUser\")\n  API.findCookie()\n.then(res => {\n  this.setState({\n    returnedName: res.data.userName,\n    returnedEmail: res.data.email\n  });\n})\n.catch(err => console.log(err));\n}\n\n\n//something is wrong\nrender() {\n  \nreturn (\n\n<Container fluid>\nYou are logged in as: {this.state.returnedName}\n<br></br>\nYour email is: {this.state.returnedEmail}\n\n    <LogInForm\n    handleSubmit={this.handleSubmit}\n    returnedName = {this.state.returnedName}\n    >\n    </LogInForm>\n\n    <button\n    onClick={() => this.checkForUser()}>\n        get user saved to cookie\n    </button>\n\n\n</Container>\n\n)\n}\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}